<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Kunst Diashow - Multi-Museum</title>
  <script src="spatial-navigation-polyfill.js"></script>  
  <script src="script.js"></script>
  <script src="navi.js"></script>
  <script src="apis.js"></script>
  <script src="passepartout.js"></script>
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
  <div id="loadingInfo">Lade Kunstwerke...</div>
  <div id="frame" style="display: none;">
    <div class="passepartout" id="passepartout">
      <div class="inner-frame">
        <img id="art" class="artwork" src="" alt="Kunstwerk">
      </div>
    </div>
  </div>
  <div id="infoBox"></div>
  
  <div id="menuOverlay">
    <div class="menu-container">
      <div class="menu-sidebar">
        <button class="menu-tab active" data-tab="sources">🏛️ Museen</button>
        <button class="menu-tab" data-tab="types">🎨 Kunstarten</button>
        <button class="menu-tab" data-tab="periods">📅 Epochen</button>
        <button class="menu-tab" data-tab="departments">🏛️ Abteilungen</button>
        <button class="menu-tab" data-tab="properties">⚙️ Eigenschaften</button>
        <button class="menu-tab" data-tab="settings">🔧 Einstellungen</button>
      </div>
      
      <div class="menu-content">
        <div class="menu-section active" id="sources">
          <h3>🏛️ Museen & Sammlungen</h3>
          <div class="menu-item">
            <label>
              <span class="source-indicator aic"></span>
              <input type="checkbox" id="sourceAIC" checked> 
              Art Institute of Chicago
            </label>
          </div>
          <div class="menu-item">
            <label>
              <span class="source-indicator met"></span>
              <input type="checkbox" id="sourceMET" > 
              Metropolitan Museum New York
            </label>
          </div>
          <div class="menu-item">
            <label>
              <span class="source-indicator cleveland"></span>
              <input type="checkbox" id="sourceCleveland" > 
              Cleveland Museum of Art (Need API-Key)
            </label>
          </div>
          <div class="menu-item">
            <label>
              <span class="source-indicator rijks"></span>
              <input type="checkbox" id="sourceRijks"> 
              Rijksmuseum Amsterdam (Need API-Key)
            </label>
          </div>
        </div>
        
        <div class="menu-section" id="types">
          <h3>🎨 Kunstarten</h3>
          <div class="menu-item">
            <label><input type="checkbox" id="sourcePaintings"> Gemälde</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="sourcePhotographs"> Fotografien</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="sourceSculpture"> Skulpturen</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="sourceDrawings"> Zeichnungen & Drucke</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="sourceDecorative"> Kunsthandwerk</label>
          </div>
        </div>
        
        <div class="menu-section" id="periods">
          <h3>📅 Epochen</h3>
          <div class="menu-item">
            <label><input type="checkbox" id="periodAncient"> Antike (vor 500)</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="periodMedieval"> Mittelalter (500-1400)</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="periodRenaissance"> Renaissance (1400-1600)</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="periodBaroque"> Barock (1600-1750)</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="periodModern"> Modern (1750-1950)</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="periodContemporary"> Zeitgenössisch (ab 1950)</label>
          </div>
        </div>
        
        <div class="menu-section" id="departments">
          <h3>🏛️ Abteilungen</h3>
          <div class="menu-item">
            <label><input type="checkbox" id="deptEuropean"> Europäische Kunst</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="deptAmerican"> Amerikanische Kunst</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="deptAsian"> Asiatische Kunst</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="deptModern"> Moderne Kunst</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="deptContemporary"> Zeitgenössische Kunst</label>
          </div>
        </div>
        
        <div class="menu-section" id="properties">
          <h3>⚙️ Eigenschaften</h3>
          <div class="menu-item">
            <label><input type="checkbox" id="onlyPublicDomain"> Nur gemeinfrei</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="onlyHighRes"> Nur hochauflösende Bilder</label>
          </div>
          <div class="menu-item">
            <label><input type="checkbox" id="onlyWithImages"> Nur mit Bildern</label>
          </div>
        </div>
        
        <div class="menu-section" id="settings">
          <h3>🔧 Einstellungen</h3>
          <div class="menu-item">
            <label>Diashow-Zeit: <span id="timeLabel">30</span> Sekunden</label>
          </div>
          <div class="menu-item">
            <label>Passepartout-Farbe: <span id="colorLabel">Eierschale</span></label>
          </div>
          <div class="menu-item">
            <label>Passepartout-Stil: <span id="styleLabel">Klassisch</span></label>
          </div>
          <div class="menu-item">
            <label>Geladene Werke: <span id="artworkCount">0</span></label>
          </div>
          
          <div style="margin-top: 2em;">
            <button class="save" onclick="applyFiltersAndReload()">🔄 Filter anwenden & neu laden</button>
            <button class="save" onclick="closeMenu()">✅ Speichern & zurück</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const img = document.getElementById('art');
    const infoBox = document.getElementById('infoBox');
    const menu = document.getElementById('menuOverlay');
    const passepartout = document.getElementById('passepartout');
    const loadingInfo = document.getElementById('loadingInfo');
    const frame = document.getElementById('frame');

    // Bildlade-Fehlerbehandlung
    img.onerror = function() {
      console.log('Bild konnte nicht geladen werden, überspringe...');
      nextArtwork();
    };
	
    // Initialisierung
    setPassepartout(colorIndex);
    updatePassepartoutStyle();
    initMenuNavigation();
    loadAllArtworks();
  </script>
</body>
</html>
